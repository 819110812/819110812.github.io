<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://newzone.top/rss.xml" rel="self" type="application/rss+xml"/>
    <title>阿秋的blog</title>
    <link>https://newzone.top/</link>
    <description>菜鸡阿秋的博客。</description>
    <language>zh-CN</language>
    <pubDate>Sat, 03 Sep 2022 12:29:37 GMT</pubDate>
    <lastBuildDate>Sat, 03 Sep 2022 12:29:37 GMT</lastBuildDate>
    <generator>vuepress-plugin-feed2</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <category>二叉树</category>
    <category>动态规划</category>
    <item>
      <title>k8s练习02</title>
      <link>https://newzone.top/k8s/k8s%E7%BB%83%E4%B9%A002.html</link>
      <guid>https://newzone.top/k8s/k8s%E7%BB%83%E4%B9%A002.html</guid>
      <source url="https://newzone.top/rss.xml">k8s练习02</source>
      <pubDate>Sat, 03 Sep 2022 12:19:21 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="k8s练习02" tabindex="-1"> k8s练习02</h1>
]]></content:encoded>
    </item>
    <item>
      <title>k8s练习01</title>
      <link>https://newzone.top/k8s/k8s%E7%BB%83%E4%B9%A001.html</link>
      <guid>https://newzone.top/k8s/k8s%E7%BB%83%E4%B9%A001.html</guid>
      <source url="https://newzone.top/rss.xml">k8s练习01</source>
      <pubDate>Sat, 03 Sep 2022 07:48:27 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="k8s练习01" tabindex="-1"> k8s练习01</h1>
<ol>
<li>使用命令行创建一个叫<code>mynamespace</code>的命名空间，并且在这个命名中间中创建一个叫做nginx的nginx镜像pod</li>
</ol>
<details>  
  <summary>answer</summary>  
  <pre><code>kubectl create namespace mynamespace</code></pre>
<pre><code>kubectl run nginx --image=nginx --restart=Never -n mynamespace</code></pre>  
</details>
<ol start="2">
<li>使用yaml文件创建上一题的内容</li>
</ol>
<details>  
  <summary>answer</summary>  
  <pre><code>apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: nginx
  name: nginx
  namespace: mynamespace
spec:
  containers:
  - image: nginx
    imagePullPolicy: IfNotPresent
    name: nginx
    resources: {}
  dnsPolicy: ClusterFirst
  restartPolicy: Never
status: {}kubectl create namespace mynamespace</code></pre>
</details>
<ol start="3">
<li>使用<code>kubectl</code> 命令行创建一个运行着<code>env</code>命令的busybox的pod</li>
</ol>
<details>
<summary>answer</summary>
<pre><code>kubectl run busybox --image=busybox --command --restart=Never -it --rm -- env 
kubectl run busybox --image=busybox --command --restart=Never -- env
kubectl logs busybox</code></pre>
</details>
<ol start="4">
<li>使用yaml创建上一题</li>
</ol>
<div><pre><code>apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: busybox
  name: busybox
spec:
  containers:
  - command:
    - env
    image: busybox
    name: busybox
    resources: {}
  dnsPolicy: ClusterFirst
  restartPolicy: Never
status: {}
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><ol start="5">
<li>创建一个<code>myns</code>的命名空间的yaml，但是不创建对应的命名空间</li>
</ol>
<p><code>kubectl create namespace myns --dry-run=client -o yaml &gt; myns.yaml</code></p>
<ol start="6">
<li>
<p>创建一个<code>hard limit</code>  1 G cpu， 1G内存和2pod的名叫<code>myrq</code>的资源限制的yaml，但是不创建对应的资源</p>
<p><code>kubectl create quota myrq --hard=cpu=1,memeory=1,pods=2 --dry-run=client -o yaml</code></p>
</li>
</ol>
]]></content:encoded>
    </item>
    <item>
      <title>waline评论服务docker自部署</title>
      <link>https://newzone.top/deploy/waline%E8%AF%84%E8%AE%BA%E6%9C%8D%E5%8A%A1docker%E8%87%AA%E9%83%A8%E7%BD%B2.html</link>
      <guid>https://newzone.top/deploy/waline%E8%AF%84%E8%AE%BA%E6%9C%8D%E5%8A%A1docker%E8%87%AA%E9%83%A8%E7%BD%B2.html</guid>
      <source url="https://newzone.top/rss.xml">waline评论服务docker自部署</source>
      <pubDate>Sat, 03 Sep 2022 05:07:35 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="waline评论服务docker自部署手册-无备案域名配置" tabindex="-1"> Waline评论服务docker自部署手册 + 无备案域名配置</h1>
<h2 id="序" tabindex="-1"> 序</h2>
<p>写在前面，为啥要整个自己部署的waline （waline是啥就不细说了）呢。一句话：就是为了访问稍微快点！</p>
<p>在<a href="https://waline.js.org/guide/get-started.html" target="_blank" rel="noopener noreferrer">官方的教程</a>中，最简单易用的是<code>LeanCloud</code>+<code>Vercel</code>部署的做法。不得不说，如果放在之前，这个部署方式觉得是简单易用的，傻瓜式部署。但是奈何，现在leancloud已经不适合大陆访问了，</p>
<p><img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903120512.png" alt="" loading="lazy"></p>
<p>并且vercel也不是很稳定。也尝试过使用腾讯云的<code>Cloudbase</code>和阿里云的<code>函数计算</code>，都是踩了无数坑。前者<code>node</code>版本太低，直接报错，后者需要域名备案，直接达咩放弃。</p>
<p>所以，最后还是选择了<code>docker</code>部署，这样就可以自己随便整了。</p>
<p>需要完成本教程的内容需要你拥有这些东西：</p>
<ul>
<li>服务器一台</li>
<li>域名一枚</li>
<li>或者信用卡一张（用于购买域名）</li>
<li>给你的服务器装上宝塔用来配置域名（命令行配置也是可以的）</li>
</ul>
<p>废话不多说，上才艺！</p>
<h2 id="先把waline部署起来" tabindex="-1"> 先把waline部署起来</h2>
<p>我这边采用的是<code>docker-compose</code>的方式部署的，所以需要先安装<code>docker</code>和<code>docker-compose</code>。
安装过程就不细讲了，直接上yaml文件</p>
<div><pre><code><span>version</span><span>:</span> <span>'3.8'</span>
<span>services</span><span>:</span>
  <span>web</span><span>:</span>
    <span>image</span><span>:</span> <span>'lizheming/waline'</span>
    <span>restart</span><span>:</span> always
    <span>ports</span><span>:</span>
      <span>-</span> <span>'8360:8360'</span>
    <span>environment</span><span>:</span>
      <span>MYSQL_DB</span><span>:</span> <span>'waline'</span>
      <span>MYSQL_USER</span><span>:</span> <span>'root'</span>
      <span>MYSQL_PASSWORD</span><span>:</span> <span>'root'</span>
      <span>MYSQL_HOST</span><span>:</span> <span>'db'</span>
      <span>MYSQL_PORT</span><span>:</span> <span>'3306'</span>

  <span>db</span><span>:</span>
    <span>image</span><span>:</span> <span>'mysql:5.7'</span>
    <span>restart</span><span>:</span> always
    <span>ports</span><span>:</span>
      <span>-</span> <span>'3306:3306'</span>
    <span>environment</span><span>:</span>
      <span>MYSQL_ROOT_PASSWORD</span><span>:</span> <span>'root'</span>
      <span>MYSQL_DATABASE</span><span>:</span> <span>'waline'</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>一个极度偷懒的yaml，为了后续维护，建议大家把volume挂载起来，这样就可以真正的stateless了。
由于咱们的数据库是全新的，所以还需要手动将表创建出来。</p>
<div><pre><code><span># CREATE DATABASE waline DEFAULT CHARACTER SET utf8mb4;</span>
<span>use</span> waline<span>;</span>

<span>CREATE</span> <span>TABLE</span> <span><span>`</span>wl_Comment<span>`</span></span> <span>(</span>
  <span><span>`</span>id<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>unsigned</span> <span>NOT</span> <span>NULL</span> <span>AUTO_INCREMENT</span><span>,</span>
  <span><span>`</span>user_id<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>comment<span>`</span></span> <span>text</span><span>,</span>
  <span><span>`</span>insertedAt<span>`</span></span> <span>timestamp</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span><span>`</span>ip<span>`</span></span> <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>link<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>mail<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>nick<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>pid<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>rid<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>sticky<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>status<span>`</span></span> <span>varchar</span><span>(</span><span>50</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>ua<span>`</span></span> <span>text</span><span>,</span>
  <span><span>`</span>url<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>createdAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span><span>`</span>updatedAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span>PRIMARY</span> <span>KEY</span> <span>(</span><span><span>`</span>id<span>`</span></span><span>)</span>
<span>)</span> <span>ENGINE</span><span>=</span><span>InnoDB</span> <span>DEFAULT</span> <span>CHARSET</span><span>=</span>utf8mb4<span>;</span>

<span>CREATE</span> <span>TABLE</span> <span><span>`</span>wl_Counter<span>`</span></span> <span>(</span>
  <span><span>`</span>id<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>unsigned</span> <span>NOT</span> <span>NULL</span> <span>AUTO_INCREMENT</span><span>,</span>
  <span><span>`</span>time<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>url<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>createdAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span><span>`</span>updatedAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span>PRIMARY</span> <span>KEY</span> <span>(</span><span><span>`</span>id<span>`</span></span><span>)</span>
<span>)</span> <span>ENGINE</span><span>=</span><span>InnoDB</span> <span>DEFAULT</span> <span>CHARSET</span><span>=</span>utf8mb4<span>;</span>

<span>CREATE</span> <span>TABLE</span> <span><span>`</span>wl_Users<span>`</span></span> <span>(</span>
  <span><span>`</span>id<span>`</span></span> <span>int</span><span>(</span><span>11</span><span>)</span> <span>unsigned</span> <span>NOT</span> <span>NULL</span> <span>AUTO_INCREMENT</span><span>,</span>
  <span><span>`</span>display_name<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>email<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>password<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>type<span>`</span></span> <span>varchar</span><span>(</span><span>50</span><span>)</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>''</span><span>,</span>
  <span><span>`</span>url<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>avatar<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>github<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>twitter<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>facebook<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>google<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>weibo<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>qq<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>label<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>2fa<span>`</span></span> <span>varchar</span><span>(</span><span>255</span><span>)</span> <span>DEFAULT</span> <span>NULL</span><span>,</span>
  <span><span>`</span>createdAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span><span>`</span>updatedAt<span>`</span></span> <span>timestamp</span> <span>NULL</span> <span>DEFAULT</span> <span>CURRENT_TIMESTAMP</span><span>,</span>
  <span>PRIMARY</span> <span>KEY</span> <span>(</span><span><span>`</span>id<span>`</span></span><span>)</span>
<span>)</span> <span>ENGINE</span><span>=</span><span>InnoDB</span> <span>DEFAULT</span> <span>CHARSET</span><span>=</span>utf8mb4<span>;</span>
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>配置完数据库，就可以测试一下咱们的页面了
当你访问<code>host+8360</code>的时看到这个页面，就说明你部署成功了：
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903121138.png" alt="" loading="lazy"></p>
<p>当然，别忘了顺带测一下你的登陆和评论功能，如果有问题，可以去<code>waline</code>的github仓库提issue。</p>
<h2 id="配置我们的域名" tabindex="-1"> 配置我们的域名</h2>
<h3 id="购买域名" tabindex="-1"> 购买域名</h3>
<p>我这边使用的是cloudflare的域名可以在cloudflare域注册中点击注册域
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903125138.png" alt="" loading="lazy"></p>
<p>在里面选择咱们需要购买的域名 （这里需要你拥有一张信用卡）</p>
<h3 id="配置域名" tabindex="-1"> 配置域名</h3>
<p>当我们拥有了我们自己的域名后，可以在服务器上配置上我们的域名了
首先，将我们域名解析绑定到我们的服务器上，这一步需要你在DNS的设置中添加一天A记录，将你的域名解析到你的服务器IP上
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903125500.png" alt="" loading="lazy">
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903125709.png" alt="" loading="lazy">
然后在宝塔上创建一条网站记录，将我们的域名绑定到我们的网站上
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903130024.png" alt="" loading="lazy">
点击创建好的站点的设置，开始配置反向代理.(注：我们这边SSL可以不用部署，因为cloudflare自带一个免费的SSL证书)
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903130148.png" alt="" loading="lazy">
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903130404.png" alt="" loading="lazy"></p>
<p>这个时候，就可以在浏览器中输入我们的域名，看到waline运行起来了!!!
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903135649.png" alt="" loading="lazy"></p>
<h1 id="小结" tabindex="-1"> 小结</h1>
<p>这边文章主要就是给大家提供一个简单的waline docker部署的思路，优点是咱们的服务是自己维护的，可以任意更改，并且可以通过域名优雅的访问，
缺点就是这个部署方式是比较简陋的，难以承载很大的并发，评论的相应速度也是取决于咱们服务器的性能。</p>
]]></content:encoded>
      <enclosure url="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220903120512.png" type="image/png"/>
    </item>
    <item>
      <title>配置github sshkey</title>
      <link>https://newzone.top/deploy/github%20ssh%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://newzone.top/deploy/github%20ssh%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://newzone.top/rss.xml">配置github sshkey</source>
      <pubDate>Sun, 28 Aug 2022 02:32:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2 id="配置github-ssh-key" tabindex="-1"> 配置github ssh key</h2>
<div><pre><code>ssh-keygen <span>-t</span> rsa <span>-C</span> “xxx” <span>#后面跟你邮箱地址</span>
<span>cat</span> ~/.ssh/id_rsa.pub
</code></pre><div aria-hidden="true"><div></div><div></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>github+宝塔面板自动部署页面</title>
      <link>https://newzone.top/deploy/github+%E5%AE%9D%E5%A1%94%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2.html</link>
      <guid>https://newzone.top/deploy/github+%E5%AE%9D%E5%A1%94%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2.html</guid>
      <source url="https://newzone.top/rss.xml">github+宝塔面板自动部署页面</source>
      <pubDate>Sun, 28 Aug 2022 02:32:00 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="github-宝塔面板自动部署页面" tabindex="-1"> github+宝塔面板自动部署页面</h1>
<h2 id="服务器配置宝塔面板" tabindex="-1"> 服务器配置宝塔面板</h2>
<div><pre><code><span># ubuntu</span>
<span>wget</span> <span>-O</span> install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh <span>&amp;&amp;</span> <span>sudo</span> <span>bash</span> install.sh
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><h2 id="安装webhook插件" tabindex="-1"> 安装webhook插件</h2>
<h2 id="配置回调脚本" tabindex="-1"> 配置回调脚本</h2>
<p>在首页选择到刚刚安装的webhook</p>
<p><img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220828104943.png" alt="" loading="lazy"></p>
<p>点击添加hook
<img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220828105058.png" alt="" loading="lazy">
在下面添加执行脚本</p>
<div><pre><code><span>cd</span> folder <span>#进入你的网页文件夹</span>
<span>git</span> pull
<span>## 配置部署脚本 如：</span>
<span>npm</span> <span>install</span>
<span>npm</span> build
<span>npm</span> run
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id="在github配置webhook" tabindex="-1"> 在github配置webhook</h2>
<p><img src="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220828101240.png" alt="" loading="lazy"></p>
<h2 id="方案分析" tabindex="-1"> 方案分析</h2>
<h3 id="优点" tabindex="-1"> 优点：</h3>
<ul>
<li>可视化界面，方便简单</li>
<li>可以查看日志</li>
</ul>
<h3 id="缺点" tabindex="-1"> 缺点：</h3>
<ul>
<li>需要手动配置很多环境</li>
<li>如果部署或者拉取失败，没有及时反馈机制</li>
</ul>
]]></content:encoded>
      <enclosure url="https://golearning.oss-cn-shanghai.aliyuncs.com/obsidian20220828104943.png" type="image/png"/>
    </item>
    <item>
      <title>二叉树的遍历</title>
      <link>https://newzone.top/leetcode/Leetcode%20%E5%88%B7%E9%A2%9813%20--%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.html</link>
      <guid>https://newzone.top/leetcode/Leetcode%20%E5%88%B7%E9%A2%9813%20--%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.html</guid>
      <source url="https://newzone.top/rss.xml">二叉树的遍历</source>
      <category>二叉树</category>
      <pubDate>Sat, 27 Aug 2022 13:41:52 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="leetcode刷题13-二叉树的遍历" tabindex="-1"> Leetcode刷题13 --二叉树的遍历</h1>
<p>给定一个二叉树，返回它的中序 遍历。</p>
<p>示例:</p>
<div><pre><code>输入: [1,null,2,3]
   1
    \
     2
    /
   3

输出: [1,3,2]
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>解法1：借助辅助函数</p>
<div><pre><code><span>class</span> <span>Solution</span><span>:</span>
    <span>def</span> <span>inorderTraversal</span><span>(</span>self<span>,</span> root<span>:</span> TreeNode<span>)</span> <span>-</span><span>></span> List<span>[</span><span>int</span><span>]</span><span>:</span>
        res <span>=</span> <span>[</span><span>]</span>
        <span>if</span> root <span>is</span> <span>None</span><span>:</span>
            <span>return</span> res
        <span>def</span> <span>bfs</span><span>(</span>root<span>)</span><span>:</span>
            <span>if</span> root <span>is</span> <span>not</span> <span>None</span><span>:</span>
                dfs<span>(</span>root<span>.</span>left<span>)</span>
                res<span>.</span>append<span>(</span>root<span>.</span>val<span>)</span>
                dfs<span>(</span>root<span>.</span>right<span>)</span>

        dfs<span>(</span>root<span>)</span>
        <span>return</span> res
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>解法二：传统递归</p>
<div><pre><code>class Solution:
    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:
        if root is None:
            return []
        if root is not None:
           return self.inorderTraversal(root.left) + [root.val] + self.inorderTraversal(root.right)

</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>该方法虽然看起来简洁，但是运行时间比第一个多很多</p>
]]></content:encoded>
    </item>
    <item>
      <title>二叉树的深度</title>
      <link>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9801-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%B7%B1%E5%BA%A6.html</link>
      <guid>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9801-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%B7%B1%E5%BA%A6.html</guid>
      <source url="https://newzone.top/rss.xml">二叉树的深度</source>
      <category>二叉树</category>
      <pubDate>Sat, 27 Aug 2022 13:41:52 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="leetcode刷题记录01-二叉树的深度" tabindex="-1"> Leetcode刷题记录01-二叉树的深度</h1>
<p>输入一棵二叉树的根节点，求该树的深度。从根节点到叶节点依次经过的节点（含根、叶节点）形成树的一条路径，最长路径的长度为树的深度。</p>
<p>例如：</p>
<p>给定二叉树 [3,9,20,null,null,15,7]，</p>
<div><pre><code>    3
   / \
  9  20
    /  \
   15   7
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div></div></div><p>返回它的最大深度 3 。</p>
<h3 id="python解法" tabindex="-1"> <em>Python解法</em></h3>
<ol>
<li>深度优先遍历</li>
</ol>
<div><pre><code>    def maxDepth(self, root: TreeNode) -> int:
        if root is None:
            return 0
        return max(self.maxDepth(root.left),self.maxDepth(root.right))+1  #比较左右子树哪个最深
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div></div></div><ol start="2">
<li>广度优先遍历
使用一个列表和计数器来遍历整个二叉树，每遍历一次计数器加1，并将列表更新</li>
</ol>
<div><pre><code>def maxDepth(self, root: TreeNode) -> int:
        if root is None:
            return 0
        arr,res = [root],0
        while arr:
            temp = []
            for node in arr:
                if node.left :temp.append(node.left)
                if node.right: temp.append(node.right)
            arr = temp
            res+=1
        return res
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>广度优先的方法利用的空间去置换出了递归时的时间，使得遍历更快</p>
<p>再用Java语言将二者实现一遍</p>
<p>2.Java版
写法一致，只是用来当做学习Java的一个途径
<em>DFS</em></p>
<div><pre><code>class Solution {
    public int maxDepth(TreeNode root) {
        if(root==null){
            return 0;
        }
        return Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;
    }
}
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><em>BFS</em></p>
<div><pre><code>class Solution {
    public int maxDepth(TreeNode root) {
        if(root == null) return 0;
        List&lt;TreeNode> arr = new ArrayList&lt;>() {{ add(root); }}, tmp;
        int res = 0;
        while(!arr.isEmpty()) {
            tmp = new LinkedList&lt;>();
            for(TreeNode node : arr) {
                if(node.left != null) tmp.add(node.left);
                if(node.right != null) tmp.add(node.right);
            }
            arr = tmp;
            res++;
        }
        return res;
    }
}
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>平衡二叉树</title>
      <link>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9802-%20%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91.html</link>
      <guid>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9802-%20%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91.html</guid>
      <source url="https://newzone.top/rss.xml">平衡二叉树</source>
      <category>二叉树</category>
      <pubDate>Sat, 27 Aug 2022 13:41:52 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="leetcode-平衡二叉树" tabindex="-1"> Leetcode 平衡二叉树</h1>
<ol>
<li>
<p>什么是平衡二叉树（Balanced Binary Tree）
二叉树是一种二叉排序树，它的左右子树的高度不得超过一。这是这题的关键，至于树的维护，本文不会加以描述
<img src="https://img-blog.csdnimg.cn/2020052220375832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk0MzY0Mg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" loading="lazy">
[图片来源：百度图片]</p>
</li>
<li>
<p>基本思路
遇到二叉树的问题基本就是DFS，BFS走一波试试，这题采用了一个DFS的辅助函数，遍历过后计算树的高度
辅助函数：</p>
</li>
</ol>
<div><pre><code>def dfs(root):
	if not root: return 0
    return max(dfs(root.left), dfs(root.right)) + 1 #计算树的高度
</code></pre><div aria-hidden="true"><div></div><div></div><div></div></div></div><p>很明显的可以看dfs的功能就是来计算树的一个高度。结合原先的函数，完整的代码就是：</p>
<div><pre><code>class Solution:
    def isBalanced(self, root: TreeNode) -> bool:
        if root is None:
            return True

        def dfs(root):
            if not root: return 0
            return max(dfs(root.left), dfs(root.right)) + 1

        return abs(dfs(root.left) - dfs(root.right)) &lt;=1 and self.isBalanced(root.left) and self.isBalanced(root.right)
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>如果是空树，则为True,必然是平衡树。
返回需要以下条件同时成立：</p>
<ul>
<li>当前子树是平衡树 即（abs(dfs(root.left) - dfs(root.right)) &lt;=1）</li>
<li>左子树是平衡树 即  self.isBalanced(root.left)</li>
<li>右子树是平衡树 即 self.isBalanced(root.right)</li>
</ul>
<p>提交的结果运行时间不是很优秀，还有待改善！</p>
]]></content:encoded>
      <enclosure url="https://img-blog.csdnimg.cn/2020052220375832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk0MzY0Mg==,size_16,color_FFFFFF,t_70" type="image/"/>
    </item>
    <item>
      <title>对称二叉树</title>
      <link>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9803-%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.html</link>
      <guid>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9803-%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.html</guid>
      <source url="https://newzone.top/rss.xml">对称二叉树</source>
      <category>二叉树</category>
      <pubDate>Sat, 27 Aug 2022 13:41:52 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="leetcode刷题03-对称二叉树" tabindex="-1"> Leetcode刷题03-对称二叉树</h1>
<p>请实现一个函数，用来判断一棵二叉树是不是对称的。如果一棵二叉树和它的镜像一样，那么它是对称的。</p>
<p>例如，二叉树 [1,2,2,3,4,4,3] 是对称的。</p>
<div><pre><code>    1
   / \
  2   2
 / \ / \
3  4 4  3
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div></div></div><p>但是下面这个 [1,2,2,null,3,null,3] 则不是镜像对称的:</p>
<div><pre><code>    1
   / \
  2   2
   \   \
   3    3
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div></div></div><p>示例 1：</p>
<div><pre><code>输入：root = [1,2,2,3,4,4,3]
输出：true
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>示例 2：</p>
<div><pre><code>输入：root = [1,2,2,null,3,null,3]
输出：false
</code></pre><div aria-hidden="true"><div></div><div></div></div></div><p>来源：力扣（LeetCode）
链接：<a href="https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof</a></p>
<p>题目要求判断一个二叉树是否平衡，看到二叉树，第一想到的是递归，然后是深度优先或者广度优先。在构建递归方法，三步走，
1.确定我们的递归程序的功能：判断是否对称，则返回值是false 或者是true
2.函数的输入是什么？
root.left,root.right. 为什么？ 我的理解是，因为要判断是否对称，那就要输入两边的子树进行比较，如果只是单独的root,递归过程很难去判断
3. 何时终止/边界条件？
如果都空，则完全一样，返回true,如果传入的左右节点有一个是空的，则不对称，则返回false。
此外还要实现判断对称的过程，即，传入的两节点值一样，且（1）左节点的左子树值等于右节点的右子树值，（2） 左节点的右子树值等于右节点的左子树值</p>
<p>先贴一下本菜鸡的实现方法：</p>
<div><pre><code>def isSymmetric(self, root: TreeNode) -> bool:
        if not root:
            return True
        def dfs(left,right):
            if not left and not right:
                return True
            if not left or not right:
                return False
            return left.val==right.val and dfs(left.left,right.right) and dfs(left.right,right.left) 
        return dfs(root.left,root.right)
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>定义了一个辅助函数对传入节点进行判断并进行递归。
下面是官方的写法：</p>
<div><pre><code>def isSymmetric(self, root: TreeNode) -> bool:
        def recur(L, R):
            if not L and not R: return True
            if not L or not R or L.val != R.val: return False
            return recur(L.left, R.right) and recur(L.right, R.left)

        return recur(root.left, root.right) if root else True
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>作者：jyd
链接：<a href="https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/solution/mian-shi-ti-28-dui-cheng-de-er-cha-shu-di-gui-qing/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/solution/mian-shi-ti-28-dui-cheng-de-er-cha-shu-di-gui-qing/</a>
来源：力扣（LeetCode）</p>
<p>思路大致相同，但是官方的显得更加简单干练，将Python语言特性发挥的淋漓尽致。</p>
<p>大致总结一下思路过程：
看到二叉树，想到要去写个递归，然后考虑这个递归的要素怎么设计，递归的主要实现，最后再去优化。</p>
]]></content:encoded>
    </item>
    <item>
      <title>股票的最大利润</title>
      <link>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9804-%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6.html</link>
      <guid>https://newzone.top/leetcode/Leetcode%E5%88%B7%E9%A2%9804-%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6.html</guid>
      <source url="https://newzone.top/rss.xml">股票的最大利润</source>
      <category>动态规划</category>
      <pubDate>Sat, 27 Aug 2022 13:41:52 GMT</pubDate>
      <content:encoded><![CDATA[<h1 id="leetcode刷题04-股票的最大利润" tabindex="-1"> Leetcode刷题04-股票的最大利润</h1>
<p>假设把某股票的价格按照时间先后顺序存储在数组中，请问买卖该股票一次可能获得的最大利润是多少？</p>
<p>示例 1:</p>
<div><pre><code>输入: [7,1,5,3,6,4]
输出: 5
解释: 在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，
最大利润 = 6-1 = 5 。 注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格。
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div></div></div><p>示例 2:</p>
<div><pre><code>输入: [7,6,4,3,1]
输出: 0
解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。
</code></pre><div aria-hidden="true"><div></div><div></div><div></div></div></div><p>一看到这题，第一反应就是动态规划，为什么是动态规划呢？因为这题是就最值，一般求最值问题，动态规划来解会得心应手。既然是动态规划，那么就要考虑到我们的状态转移方程是什么。
从题目中可以得到这么一个信息，股票是低买高卖，那么就需要记录下一个极小值，并且要做一个取舍，当前的价格减去最小值的利润是否比之前的最大利润多。
大致的一个思路就是这样，那么我们的状态转移方程则是：</p>
<div><pre><code>dp[i] = max(prices[i]-temp,dp[i-1])
</code></pre><div aria-hidden="true"><div></div></div></div><p>dp[i] 则是记录我们的当前最大值， max(prices[i]-temp,dp[i-1])则是在取最大的情况存进我们的dp列表中。
完整的代码是这样的：</p>
<div><pre><code>from typing import List


class Solution:
    def maxProfit(self, prices: List[int]) -&gt; int:
        dp = [0]*len(prices)  # 初始化我们的dp列表
        temp = prices[0] #将第一天的价格记做暂时的最小值
        for i in range(1,len(prices)):
            if prices[i]&lt;=temp: #如果有更小的则更新
                temp = prices[i]
            dp[i] = max(prices[i]-temp,dp[i-1])
        return dp[len(prices)-1] #返回最终的结果 



if __name__ == '__main__':
    stock = [7,6,4,3,1]
    sol = Solution()
    print(sol.maxProfit(stock)) #返回5
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>上面的写法算是很中规中矩的动态规划写法，来看下官方给出的解法</p>
<div><pre><code>class Solution:
    def maxProfit(self, prices: List[int]) -&gt; int:
        cost, profit = float(&quot;+inf&quot;), 0
        for price in prices:
            cost = min(cost, price)
            profit = max(profit, price - cost)
        return profit

作者：jyd
链接：https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/solution/mian-shi-ti-63-gu-piao-de-zui-da-li-run-dong-tai-2/
来源：力扣（LeetCode）
</code></pre><div aria-hidden="true"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>基本思路是一致的，都是记录下当前的最小值和最大利润，然后计算判断，不过官方的明显要比我自己写的简练很多，hmmmm，还有好多要走呢，奥利给！</p>
]]></content:encoded>
    </item>
  </channel>
</rss>